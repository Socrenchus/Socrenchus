(function(){var q,r,k,l,z,s,m=Array.prototype.slice;z={};r=function(c,a,b){var f,e,d,g;b==null&&(b=null);if(c===".")return a[a.length-1];d=c.split(/\./);c=d[0];d=2<=d.length?m.call(d,1):[];for(e=g=a.length-1;g<=-1?e<-1:e>-1;g<=-1?e+=1:e-=1)if(a[e]!=null&&typeof a[e]==="object"&&c in(f=a[e])){b=f[c];break}a=0;for(e=d.length;a<e;a++)c=d[a],b=r(c,[b]);b instanceof Function&&(b=function(c){return function(){var a;a=c.apply(f,arguments);return a instanceof Function&&a.apply(null,arguments)||a}}(b));return b};
q=function(){var c,a,b,f;b=arguments[0];f=arguments[1];c=3<=arguments.length?m.call(arguments,2):[];return function(){var e,d,g;g=[];e=0;for(d=f.length;e<d;e++)a=f[e],g.push(a.call.apply(a,[b].concat(m.call(c))));return g}().join("")};l=function(c,a,b){var f,e,d,g,v,t,k,n,s,w,h,u,x,i,j,y,o;a==null&&(a=["{{","}}"]);b==null&&(b=null);v=z[e=a.join(" ")]||(z[e]={});if(c in v)return v[c];e=[];f=function(){return RegExp("([\\s\\S]*?)([ \\t]*)(?:"+a[0]+"\\s*(?:(!)\\s*([\\s\\S]+?)|(=)\\s*([\\s\\S]+?)\\s*=|({)\\s*(\\w[\\S]*?)\\s*}|([^0-9a-zA-Z._!={]?)\\s*([\\w.][\\S]*?))\\s*"+
a[1]+")","gm")};j=f();j.lastIndex=i=(b||{start:0}).start;for(x=function(a,b){var e,d,g,h,i,p,f,j;(d=/$/gm).lastIndex=a;d.exec(c);p=c.substr(0,a).split("\n");j=p.length;p=p[j-1];e=t+o.length;f=c.substr(e+1,a-e-1);h=Array(p.length-f.length+1).join(" ");e=Array(f.length+1).join("^");p+=c.substr(a,d.lastIndex-a);g=Error();for(i in d={message:""+b+"\n\nLine "+j+":\n"+p+"\n"+h+e,error:b,line:j,"char":h.length,tag:f})g[i]=d[i];return g};h=j.exec(c);){g=h.slice(1,3);d=g[0];o=g[1];g=h[3]||h[5]||h[7]||h[9];
h=h[4]||h[6]||h[8]||h[10];t=i+d.length-1;i=j.lastIndex;w=(t===-1||c.charAt(t)==="\n")&&((u=c.charAt(i))===void 0||u===""||u==="\r"||u==="\n");d&&e.push(function(a){return function(){return a}}(d));w&&g!==""&&g!=="&"&&g!=="{"?(c.charAt(i)==="\r"&&(i+=1),c.charAt(i)==="\n"&&(i+=1)):o&&(e.push(function(a){return function(){return a}}(o)),t+=o.length,o="");switch(g){case "!":break;case "":case "&":case "{":d=function(a,c){return function(e){var b,d;if((b=(d=r(a,e))!=null?d:"")instanceof Function)b=q.apply(null,
[this,l(""+b())].concat(m.call(arguments)));c||(b=this.escape(""+b));return""+b}};e.push(d(h,g));break;case ">":g=function(a,b){return function(c,e){var d;d=e(a).toString();b&&(d=d.replace(/^(?=.)/gm,b));return q.apply(null,[this,l(d)].concat(m.call(arguments)))}};e.push(g(h,o));break;case "#":case "^":d={name:h,start:i,error:x(j.lastIndex,"Unclosed section '"+h+"'!")};w=l(c,a,d);y=w[0];i=w[1];d["#"]=function(a,b,c){return function(e){var d,g,h,f;f=r(a,e)||[];y=f instanceof Function?f(c):c;f instanceof
Array||(f=[f]);d=l(y||"",b);e.push(f);g=function(){var a,b,c;c=[];a=0;for(b=f.length;a<b;a++)h=f[a],e[e.length-1]=h,c.push(q.apply(null,[this,d].concat(m.call(arguments))));return c}.apply(this,arguments);e.pop();return g.join("")}};d["^"]=function(a,b,c){return function(e){var d;d=r(a,e)||[];d instanceof Array||(d=[1]);d=d.length===0?l(c,b):[];return q.apply(null,[this,d].concat(m.call(arguments)))}};e.push(d[g](h,a,y));break;case "/":if(b==null)n="End Section tag '"+h+"' found, but not in section!";
else if(h!==(u=b.name))n="End Section tag closes '"+h+"'; expected '"+u+"'!";if(n)throw x(j.lastIndex,n);c=c.slice(b.start,t+1||9E9);v[c]=e;return[c,i];case "=":if((a=h.split(/\s+/)).length!==2)n="Set Delimiters tags should have two and only two values!";if(n)throw x(j.lastIndex,n);s=/[-[\]{}()*+?.,\\^$|#]/g;a=function(){var b,d,c;c=[];b=0;for(d=a.length;b<d;b++)k=a[b],c.push(k.replace(s,"\\$&"));return c}();j=f();break;default:throw x(j.lastIndex,"Unknown tag type -- "+g);}j.lastIndex=i!=null?i:
c.length}if(b!=null)throw b.error;c.length!==i&&e.push(function(){return c.slice(i)});return v[c]=e};k={VERSION:"1.2.0",helpers:[],partials:null,escape:function(c){var a;a={"&":"amp",'"':"quot","<":"lt",">":"gt"};return c.replace(/[&"<>]/g,function(b){return"&"+a[b]+";"})},render:function(c,a,b){var f;b==null&&(b=null);if(!((b||(b=this.partials||{}))instanceof Function))b=function(a){return function(b){if(!(b in a))throw"Unknown partial '"+b+"'!";return r(b,[a])}}(b);f=this.helpers instanceof Array?
this.helpers:[this.helpers];return q(this,l(c),f.concat([a]),b)}};if(typeof exports!="undefined"&&exports!==null)for(s in k)exports[s]=k[s];else this.Milk=k}).call(this);
